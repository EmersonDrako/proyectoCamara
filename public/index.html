<!DOCTYPE html>
<html>
<head>
	<title ></title>
	<!--<script src="http://localhost/ProyectoCamara/node_modules/socket.io/lib/socket.io.js"></script>-->
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/addons/p5.dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.0/jquery.js"></script>
        <script src="http://www.babylonjs.com/babylon.js"></script>
       <script src="/textura/html2canvas.js"></script>
        
        <style>
html, body {
overflow: hidden;
width: 100%;
height: 100%;
 margin  : 0;
  padding : 0;

}
  #renderCanvas {
    width: 100%;
    height: 100%;
    touch-action: none;
     z-index: 1;
position: absolute;
  }



#Menu{
position:absolute; 
     top:25; 
     left:24px;
     z-index: 2;
}

        </style>
</head>

<body id="datos">
<div id="Menu">
<p id="logger" style="background-color:white "></p>
 <!--<input id='botonFoto' type='button' value = 'Foto'></input>-->


 </div>


        <canvas id="renderCanvas"></canvas>
<script>
var socket = io();
        var video;
        var id;
        



        socket.on('stream', function(data){
         
        });


        function setup() {
            c = createCanvas(320, 240);
            video = createCapture(VIDEO);
            video.size(320, 240);
            video.hide();
            noStroke();
        }

        function draw(){
            image(video, 0, 0, 320, 240);

                socket.emit('stream',{captura:c.canvas.toDataURL()});

       
            
        }
/*

$( document ).ready(function() {
$("#botonFoto").click(function(e){
e.preventDefault();
    html2canvas($("body"), {
        onrendered: function (canvas) {
            var myImage = canvas.toDataURL("image/png");
            window.open(myImage);
            window.close();
            }
        });
    });
});
  */

/*
        var canvas = document.getElementById("renderCanvas");
        var engine = new BABYLON.Engine(canvas, true);

  
        




        var createScene = function () {
        
            // This creates a basic Babylon Scene object (non-mesh)
            var scene = new BABYLON.Scene(engine);
        
            // This creates and positions a free camera (non-mesh)
            var camera = new BABYLON.ArcRotateCamera("Camera", -1, 0.5, 50, BABYLON.Vector3.Zero(), scene);
        
            // This targets the camera to scene origin
            camera.setTarget(BABYLON.Vector3.Zero());
        
            // This attaches the camera to the canvas
            camera.attachControl(canvas, true);
        
            // This creates a light, aiming 0,1,0 - to the sky (non-mesh)
            var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 1, 0), scene);
        
            // Default intensity is 1. Let's dim the light a small amount
            light.intensity = 0.7;

            var skybox = BABYLON.Mesh.CreateBox("skyBox", 6000.0, scene);
var skyboxMaterial = new BABYLON.StandardMaterial("skyBox", scene);
skyboxMaterial.backFaceCulling = false;
skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture("textura/Cielo/TropicalSunnyDay", scene);
skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;
skyboxMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);
skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);skybox.material = skyboxMaterial;
//cielofin del cielo
        



            // Our built-in 'sphere' shape. Params: name, subdivs, size, scene
            sphere = BABYLON.Mesh.CreateBox("sphere1", 15, scene, true);
        
            // Move the sphere upward 1/2 its height
        
            var mat = new BABYLON.StandardMaterial("mat", scene);
        
            var videoTexture = new BABYLON.VideoTexture("video", video, scene, false, true, 2);
        
            mat.diffuseTexture = videoTexture;
            sphere.material = mat;
        
            scene.onPointerUp = function () {
                videoTexture.video.play();
            }








            return scene;
        
        };
        



        var scene = createScene();

        engine.runRenderLoop(function () {
            scene.render();
        });

        // Resize
        window.addEventListener("resize", function () {
            engine.resize();
        });
        */
    </script>




</body>
</html>
